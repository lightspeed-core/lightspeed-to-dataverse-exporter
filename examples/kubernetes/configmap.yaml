---
apiVersion: v1
kind: ConfigMap
metadata:
  name: lightspeed-config
  namespace: lightspeed
data:
  exporter-config.yaml: |
    service_id: "<MY SERVICE ID>"
    ingress_server_url: "https://console.redhat.com/api/ingress/v1/upload"
    allowed_subdirs:
     - feedback
     - transcripts
    
    # Collection settings
    collection_interval: 7200  # 2 hours (default production interval)
    cleanup_after_send: true
    ingress_connection_timeout: 30
    
    # Logging settings (optional)
    log_level: "INFO"  # Options: DEBUG, INFO, WARNING, ERROR
    rich_logs: false   # Enable rich colored logging output
    
    # Note: ingress_server_auth_token and identity_id are automatically 
    # retrieved from the OpenShift cluster in openshift mode
  
  # Sample data for testing
  sample-lightspeed-data.json: |
    {
      "user_id": "user_id_placeholder",
      "timestamp": "2025-07-24 13:16:49.140050+00:00",
      "conversation_id": "123e4567-e89b-12d3-a456-426614174000",
      "user_question": "What is XYZ",
      "llm_response": "Some elaborate answer",
      "sentiment": 1,
      "user_feedback": ""
    } 

  # General lightspeed config
  lightspeed-stack.yaml: |
    name: "<MY LIGHTSPEED DEPLOYMENT NAME>"
    service:
      host: 0.0.0.0
      port: 8090
